<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible=IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desafio da Sabedoria</title>
    <link rel="stylesheet" href="styles.css">
    <script src="scripts.js"></script>
</head>
<body>
    <h1>Desafio da Sabedoria</h1>
    <div id="board"></div>
    <div id="controls">
        <p>Jogador atual: <span id="current-player">1</span></p>
        <button id="spinner">Girar Roleta</button>
        <p>Resultado da roleta: <span id="spin-result"></span></p>
    </div>
    <div id="question-card" class="hidden">
        <h3>Pergunta</h3>
        <p id="question-text"></p>
        <ul id="options"></ul>
    </div>
    <script>
        const boardSize = 50;
        const board = document.getElementById('board');
        const spinner = document.getElementById('spinner');
        const spinResultElement = document.getElementById('spin-result');
        const currentPlayerElement = document.getElementById('current-player');
        const questionCard = document.getElementById('question-card');
        const questionText = document.getElementById('question-text');
        const optionsList = document.getElementById('options');

        const players = [
            { id: 1, position: 0, element: 'player1' },
            { id: 2, position: 0, element: 'player2' },
            { id: 3, position: 0, element: 'player3' },
            { id: 4, position: 0, element: 'player4' }
        ];

        let currentPlayerIndex = 0;

        const questions = {
            verde: [
                { pergunta: "Qual é a capital do Brasil?", opcoes: ["A) São Paulo", "B) Brasília", "C) Rio de Janeiro", "D) Belo Horizonte", "E) Porto Alegre"], respostaCorreta: "B" },
                { pergunta: "Qual é o maior animal terrestre?", opcoes: ["A) Elefante", "B) Tigre", "C) Girafa", "D) Elefante", "E) Tigre"], respostaCorreta: "D" },
                { pergunta: "Qual é o maior planeta do Sistema Solar?", opcoes: ["A) Marte", "B) Jupiter", "C) Saturno", "D) Venus", "E) Saturno"], respostaCorreta: "B" }, 
                { pergunta: "Qual é o maior planeta do Sistema Solar?", opcoes: ["A) Marte", "B) Jupiter", "C) Saturno", "D) Venus", "E) Saturno"], respostaCorreta: "B" }
                
            ]
        };

        function createBoard() {
            board.innerHTML = '';
            for (let i = 0; i < boardSize; i++) {
                const cell = document.createElement('div');
                cell.classList.add('cell');
                cell.textContent = i + 1;  // Número da casa exibido
                board.appendChild(cell);
            }
        }

        function startTurn() {
            questionCard.classList.remove('hidden');
            const question = questions.verde[Math.floor(Math.random() * questions.verde.length)];
            questionText.textContent = question.pergunta;
            optionsList.innerHTML = '';
            question.opcoes.forEach(opcao => {
                const li = document.createElement('li');
                li.textContent = opcao;
                optionsList.appendChild(li);
                li.addEventListener('click', () => {
                    if (li.textContent.startsWith(question.respostaCorreta)) {
                        alert('Resposta correta!');
                        advancePlayer();
                    } else {
                        alert('Resposta errada! Penalidade aplicada.');
                        penalizePlayer();
                    }
                    questionCard.classList.add('hidden');
                    nextPlayer();
                });
            });
        }

        function nextPlayer() {
            currentPlayerIndex = (currentPlayerIndex + 1) % players.length;
            currentPlayerElement.textContent = players[currentPlayerIndex].id;
        }

        function advancePlayer() {
            const player = players[currentPlayerIndex];
            player.position = Math.min(player.position + parseInt(spinResultElement.textContent, 10), boardSize - 1);
            renderPlayers();
        }

        function penalizePlayer() {
            const player = players[currentPlayerIndex];
            player.position = Math.max(player.position - Math.floor(Math.random() * 3 + 1), 0);
            renderPlayers();
        }

        function renderPlayers() {
            const cells = document.querySelectorAll('.cell');
            cells.forEach(cell => cell.innerHTML = cell.textContent);  // Reseta conteúdo de cada célula mantendo o número
            players.forEach(player => {
                const cell = cells[player.position];
                const playerElement = document.createElement('div');
                playerElement.classList.add('player', player.element);
                playerElement.id = `player-${player.id}`;
                cell.appendChild(playerElement);  // Adiciona o elemento do jogador à célula
            });
        }

        spinner.addEventListener('click', () => {
            const spinResult = Math.floor(Math.random() * 6) + 1;
            spinResultElement.textContent = spinResult;
            startTurn();
        });

        createBoard();
        renderPlayers();
    </script>
</body>
</html>
